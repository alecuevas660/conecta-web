---
// src/components/HowWeWork.astro
---

<section class="how-we-work py-6">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <p class="lead text-center mb-5 fade-in-up">
          En Conecta Internacional, estamos comprometidos con ayudarte a aprovechar al máximo las oportunidades del comercio exterior. Nuestro equipo de expertos ofrece asesorías personalizadas y soluciones innovadoras para impulsar tu negocio en el mercado global.
        </p>
      </div>
    </div>

    <div class="text-center mb-5">
      <span class="badge bg-primary px-3 py-2 mb-3 fade-in-up">Nuestro Proceso</span>
      <h2 class="display-4 fw-bold mb-4 fade-in-up">¿Cómo trabajamos?</h2>
      <div class="title-underline fade-in-up"></div>
    </div>
    
    <div class="row g-4 g-lg-5 justify-content-center">
      <div class="col-md-6 col-lg-3">
        <div class="process-card fade-in-up" data-delay="0">
          <div class="process-number">01</div>
          <div class="process-icon mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
          </div>
          <h3 class="h5 mb-3">Evaluación Inicial</h3>
          <p class="text-muted">
            Analizamos las necesidades específicas de tu empresa
          </p>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="process-card fade-in-up" data-delay="200">
          <div class="process-number">02</div>
          <div class="process-icon mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-clipboard-data" viewBox="0 0 16 16">
              <path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z"/>
              <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
              <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
            </svg>
          </div>
          <h3 class="h5 mb-3">Propuesta</h3>
          <p class="text-muted">
            Diseñamos un plan de acción personalizado
          </p>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="process-card fade-in-up" data-delay="400">
          <div class="process-number">03</div>
          <div class="process-icon mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
              <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
              <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
            </svg>
          </div>
          <h3 class="h5 mb-3">Ejecución</h3>
          <p class="text-muted">
            Implementamos las soluciones acordadas
          </p>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="process-card fade-in-up" data-delay="600">
          <div class="process-number">04</div>
          <div class="process-icon mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
              <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"/>
            </svg>
          </div>
          <h3 class="h5 mb-3">Acompañamiento</h3>
          <p class="text-muted">
            Te apoyamos durante todo el proceso
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .how-we-work {
    background-color: #f0f4f8;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }

  .title-underline {
    width: 80px;
    height: 4px;
    background: var(--bs-primary);
    margin: 0 auto;
    position: relative;
  }

  .title-underline::after {
    content: '';
    position: absolute;
    width: 40px;
    height: 4px;
    background: var(--bs-primary);
    right: -50px;
    opacity: 0.5;
  }

  .process-card {
    background: white;
    padding: 2.5rem;
    border-radius: 1rem;
    position: relative;
    transition: all 0.3s ease;
    height: 100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    border: 1px solid rgba(0,0,0,0.05);
  }

  .process-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
  }

  .process-number {
    font-size: 4rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--bs-primary), #4a90e2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1;
    margin-bottom: 1.5rem;
    opacity: 0.8;
  }

  .process-icon {
    background-color: var(--bs-primary-bg-subtle);
    color: var(--bs-primary);
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    transition: all 0.3s ease;
  }

  .process-card:hover .process-icon {
    transform: scale(1.1) rotate(5deg);
    background-color: var(--bs-primary);
    color: white;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }

  .py-6 {
    padding-top: 5rem;
    padding-bottom: 5rem;
  }

  @media (min-width: 992px) {
    .py-6 {
      padding-top: 7rem;
      padding-bottom: 7rem;
    }
  }

  .lead {
    font-size: 1.15rem;
    line-height: 1.8;
  }

  @media (min-width: 768px) {
    .lead {
      font-size: 1.3rem;
    }
  }

  .fade-in-up {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .fade-in-up.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.1
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          if (entry.target.dataset.delay) {
            entry.target.style.transitionDelay = `${entry.target.dataset.delay}ms`;
          }
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    const fadeElements = document.querySelectorAll('.fade-in-up');
    fadeElements.forEach(el => observer.observe(el));
  });
</script>


